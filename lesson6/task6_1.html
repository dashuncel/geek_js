<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset=UTF-8>
	<title></title>
</head>
<body>
	<script>
		function Array2List(arr){
			var list = null;
			for (var i = arr.length - 1; i >=0; i--) {
				list = {value : arr[i], rest: list};
			}
			return list;
		}

		function List2Array(list) {
			var array = [];
			for (var node = list; node; node = node.rest) {
				array.push(node.value);
			}
			return array;
		}

		function prepend(element, list){
			return {value: element, rest: list};
		}

		function nth(list,n) {
			if (!list)
				return undefined;
			else if (n==0)
				return list.value;
			else return nth(list.rest, n - 1);
		}

		console.log(Array2List(['1','2','3']));
		console.log(List2Array(Array2List(['1','2','3'])));
		console.log(prepend(1,prepend(2, prepend(3,null))));
		console.log(nth(Array2List(['1','2','3'])));

	</script>
</body>
</html>